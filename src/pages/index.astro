---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from 'astro:content';
const workItems = (await getCollection('work'))
  .sort((a,b) => (a.data.order ?? 999) - (b.data.order ?? 999))
  .slice(0, 3);
---
<BaseLayout title="Nadim Younes" description="Engineer and product-minded builder.">
  <section class="mx-auto max-w-3xl">
    <div class="glass rounded-2xl border shadow p-6 md:p-10">
      <p class="opacity-70">Hello, Iâ€™m<span class="cursor-blink"></span></p>
      <h1 class="mt-1 text-4xl md:text-6xl font-display leading-tight crt-soft">Nadim Younes</h1>
      <p class="mt-4 opacity-80 max-w-2xl">
        Engineer and product-minded builder crafting fast, minimal, human software. I
        enjoy turning ideas into polished, reliable systems.
      </p>
      <div class="mt-6 flex flex-wrap gap-3">
        <a href="/work" class="glass rounded-md px-4 py-2 text-sm border shadow">View Work</a>
        <a href="#contact" class="glass rounded-md px-4 py-2 text-sm border shadow">Contact</a>
      </div>
    </div>
  </section>

  <section class="mx-auto max-w-3xl mt-14">
    <h2 class="text-2xl md:text-3xl font-display">Selected Work</h2>
    <div class="mt-6 grid md:grid-cols-2 auto-rows-fr gap-6">
      {workItems.map((item, i) => (
        <a href={`/work/${item.slug}`} class:list={{ 'block': true, 'h-full': true, 'md:col-span-2': i === workItems.length - 1 && workItems.length % 2 === 1 }}>
          <article class="glass rounded-xl border shadow p-5 h-full flex flex-col">
            <h3 class="font-semibold text-lg">{item.data.title}</h3>
            {item.data.description && <p class="opacity-80 text-sm mt-1">{item.data.description}</p>}
            <div class="mt-3 flex-1"></div>
            {item.data.tags?.length ? (
              <div class="mt-3 flex flex-wrap gap-2 text-xs tabular-nums">
                {item.data.tags.map((t) => (<span class="glass rounded px-2 py-1 border">{t}</span>))}
              </div>
            ) : null}
          </article>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>
